# trafikwatch.yaml — mixed v2c/v3 lab topology
#
# Cisco IOSv routers: SNMPv2c (community)
# Arista vEOS spines: SNMPv3 (authPriv)
#
# Global defaults — v2c for Cisco gear
community: "lab"
version: "2c"
interval: 10s
timeout: 5s
port: 161
max_history: 360

# Global v3 defaults — used by any target with version: "2c"
snmpv3:
  username: "cisco"
  auth_protocol: "sha"
  auth_password: "cisco123"
  priv_protocol: "aes128"
  priv_password: "cisco123"

groups:
  - name: "WAN"
    targets:
      - host: "172.16.128.6"
        label: "eng-rtr-1"
        interfaces:
          - "Gi0/0"              # To usa-rtr-1

      - host: "172.16.128.5"
        label: "usa-rtr-1"
        interfaces:
          - "Gi0/3"              # To eng-rtr-1

  - name: "Spine Uplinks"
    targets:
      - host: "172.16.128.6"
        label: "eng-rtr-1"
        interfaces:
          - "Gi0/2"              # To eng-spine-1
          - "Gi0/3"              # To eng-spine-2

  - name: "ENG Spine Fabric"
    targets:
      - host: "172.16.2.2"
        label: "eng-spine-1"
        version: "3"             # v3 — uses global snmpv3 creds
        interfaces:
          - "Ethernet1"          # To eng-rtr-1
          - "Ethernet2"          # To eng-spine-2 (L2 trunk + L3)
          - "Ethernet3"          # To eng-leaf-1
          - "Ethernet4"          # To eng-leaf-2
          - "Ethernet5"          # To eng-leaf-3

      - host: "172.16.2.6"
        label: "eng-spine-2"
        version: "2c"
        interfaces:
          - "Ethernet1"          # To eng-rtr-1
          - "Ethernet2"          # To eng-spine-1 (L2 trunk + L3)
          - "Ethernet3"          # To eng-leaf-1
          - "Ethernet4"          # To eng-leaf-2
          - "Ethernet5"          # To eng-leaf-3

  - name: "USA Spine Fabric"
    targets:
      - host: "172.16.1.6"
        label: "usa-spine-2"
        version: "2c"
        interfaces:
          - "Ethernet1"          # To usa-rtr-1
          - "Ethernet2"          # To usa-spine-1
          - "Ethernet6"          # To usa-rtr-1 (2nd link)

      - host: "172.16.10.2"
        label: "usa-spine-1"
        version: "2c"
        # Per-target v3 override (if different creds from global)
        # snmpv3:
        #   username: "monitoring"
        #   auth_protocol: "sha"
        #   auth_password: "different_pass"
        #   priv_protocol: "aes128"
        #   priv_password: "different_pass"
        interfaces:
          - "Ethernet2"          # To usa-spine-2